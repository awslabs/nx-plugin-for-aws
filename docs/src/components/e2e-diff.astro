---
import Diff from './diff.astro';

const e2eFiles = Object.entries(import.meta.glob('../../../e2e/src/files/**/*.template', { eager: true, query: '?raw' }));
const { before, after, lang } = Astro.props;
const beforeContent = e2eFiles.find(([file, content]) => file.endsWith(before))[1].default;
const afterContent = e2eFiles.find(([file, content]) => file.endsWith(after))[1].default;
---
<Diff before={beforeContent} after={afterContent} lang={lang} />