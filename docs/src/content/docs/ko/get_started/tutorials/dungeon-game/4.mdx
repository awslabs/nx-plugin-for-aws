---
title: "μ—μ΄μ „νΈν• AI λμ „ κ²μ„"
description: "@aws/nx-pluginμ„ μ‚¬μ©ν•μ—¬ μ—μ΄μ „νΈν• AI κΈ°λ° λμ „ λ¨ν— κ²μ„μ„ κµ¬μ¶•ν•λ” λ°©λ²•μ— λ€ν• μ•λ‚΄"
---



import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import E2ECode from '@components/e2e-code.astro';
import E2EDiff from '@components/e2e-diff.astro';

import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## λ¨λ“ 4: UI κµ¬ν„

UI κµ¬μ„±μ„ μ‹μ‘ν•κΈ° μ„ν•΄ λ΅μ»¬ κ°λ° μ„λ²„λ¥Ό λ°°ν¬λ μƒλ“λ°•μ¤λ΅ μ—°κ²°ν•κ² μµλ‹λ‹¤. λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ„Έμ”:

<NxCommands commands={["run @dungeon-adventure/game-ui:load:runtime-config"]} />

μ΄ λ…λ Ήμ€ λ°°ν¬λ `runtime-config.json` νμΌμ„ κ°€μ Έμ™€ `packages/game-ui/public` ν΄λ”μ— λ΅μ»¬λ΅ μ €μ¥ν•©λ‹λ‹¤.

μ΄μ  λ‹¤μ λ…λ ΉμΌλ΅ κ°λ° μ„λ²„λ¥Ό μ‹μ‘ν•  μ μμµλ‹λ‹¤:

<NxCommands commands={["run @dungeon-adventure/game-ui:serve"]} />

λΈλΌμ°μ €μ—μ„ λ΅μ»¬ μ›Ήμ‚¬μ΄νΈ(http://localhost:4200)λ¥Ό μ—΄λ©΄ λ΅κ·ΈμΈ ν”„λ΅¬ν”„νΈκ°€ ν‘μ‹λκ³  μƒ μ‚¬μ©μ μƒμ„± μ μ°¨λ¥Ό λ”°λΌ μ§„ν–‰ν•  μ μμµλ‹λ‹¤. μ™„λ£ ν›„ κΈ°λ³Έ μ›Ήμ‚¬μ΄νΈκ°€ ν‘μ‹λ©λ‹λ‹¤:

<Image src={baselineWebsitePng} alt="baseline-website.png" width="800" height="600" />

<Aside type="caution">
_μ΄ λ¨λ“ μ§„ν–‰ λ™μ• κ°λ° μ„λ²„λ¥Ό κ³„μ† μ‹¤ν–‰ μƒνƒλ΅ μ μ§€ν•  κ²ƒμ…λ‹λ‹¤. λ³€κ²½ μ‚¬ν•­μ΄ λ°μƒν•λ©΄ μλ™μΌλ΅ ν•« λ¦¬λ΅λ“λ©λ‹λ‹¤._
</Aside>

:::tip
<NxCommands commands={["run @dungeon-adventure/game-ui:serve-local"]} /> λ…λ Ήμ„ λ€μ‹  μ‹¤ν–‰ν•λ©΄ μ—°κ²°λ API λ΅μ»¬ μ„λ²„λ„ ν•¨κ» μ‹μ‘λμ–΄ tRPC APIμ™€ μ›Ήμ‚¬μ΄νΈλ¥Ό λ™μ‹μ— λ°λ³µ κ°λ°ν•  μ μμµλ‹λ‹¤.
:::

### μƒλ΅μ΄ '/game' λΌμ°νΈ μƒμ„±

`@tanstack/react-router`μ κΈ°λ¥μ„ ν™μ©ν•΄ νƒ€μ… μ•μ „ν• μƒ λΌμ°νΈλ¥Ό μƒμ„±ν•΄ λ³΄κ² μµλ‹λ‹¤. λ‹¤μ μ„μΉμ— λΉ νμΌμ„ μƒμ„±ν•μ„Έμ”: `packages/game-ui/src/routes/game/index.tsx`. νμΌμ΄ μ¦‰μ‹ μ—…λ°μ΄νΈλλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

`@tanstack/react-router`κ°€ μλ™μΌλ΅ μƒ λΌμ°νΈλ¥Ό κµ¬μ„±ν•λ©°, μƒμ„±ν• νμΌμ— μ΄λ―Έ λΌμ°νΈ κ²½λ΅κ°€ μ…λ ¥λμ–΄ μμµλ‹λ‹¤:

```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/game/')({
  component: RouteComponent,
})

function RouteComponent() {
  return <div>Hello "/game/"!</div>
}
```

μ΄μ  `http://localhost:4200/game`μΌλ΅ μ΄λ™ν•λ©΄ μƒ νμ΄μ§€κ°€ λ λ”λ§λ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤!

<Image src={baselineGamePng} alt="baseline-game.png" width="800" height="600" />

κΈ°λ³Έμ μΌλ΅ μƒ `/game` λΌμ°νΈλ¥Ό λ΅λ“ν•λ„λ΅ `index.tsx` νμΌλ„ μ—…λ°μ΄νΈν•κ² μµλ‹λ‹¤. `to` ν•„λ“λ¥Ό μμ •ν•  λ• νƒ€μ… μ•μ „ν• λΌμ°νΈ λ©λ΅μ—μ„ μ„ νƒν•  μ μλ” κ²ƒμ„ ν™•μΈν•μ„Έμ”.

<Tabs>
<TabItem label="routes/index.tsx">
<E2EDiff before="dungeon-adventure/4/routes/index.tsx.old.template" after="dungeon-adventure/4/routes/index.tsx.template" lang="tsx" />
</TabItem>
</Tabs>

μ΄μ  λ” μ΄μƒ ν•„μ” μ—†λ” `packages/game-ui/src/routes/welcome/` ν΄λ”λ¥Ό μ‚­μ ν•  μ μμµλ‹λ‹¤.

### λ μ΄μ•„μ›ƒ μ—…λ°μ΄νΈ

κΈ°λ³Έ κµ¬μ„±λ λ μ΄μ•„μ›ƒμ€ SaaS μ¤νƒ€μΌ λΉ„μ¦λ‹μ¤ μ• ν”λ¦¬μΌ€μ΄μ…μ— λ” κ°€κΉμµλ‹λ‹¤. λμ „ μ¤νƒ€μΌ κ²μ„μ— μ–΄μΈλ¦¬λ„λ΅ λ μ΄μ•„μ›ƒμ„ μ¬κµ¬μ„±ν•κ³  ν…λ§λ¥Ό λ³€κ²½ν•κ² μµλ‹λ‹¤.

`packages/game-ui/src`μ—μ„ λ‹¤μ λ³€κ²½ μ‚¬ν•­μ„ μ μ©ν•μ„Έμ”:

<Tabs>
<TabItem label="config.ts">
<E2EDiff before="dungeon-adventure/4/config.ts.old.template" after="dungeon-adventure/4/config.ts.template" lang="typescript" />
</TabItem>
<TabItem label="components/AppLayout/index.tsx">
<E2ECode path="dungeon-adventure/4/AppLayout/index.tsx.template" lang="tsx" />
</TabItem>
<TabItem label="styles.css">
<E2ECode path="dungeon-adventure/4/styles.css.template" lang="css" />
</TabItem>
</Tabs>

μ΄μ  μ‚¬μ©λμ§€ μ•λ” `packages/game-ui/src/hooks/useAppLayout.tsx` νμΌμ„ μ‚­μ ν•μ„Έμ”.

### μ¤ν† λ¦¬ μ—μ΄μ „νΈ ν†µν•©

μ΄μ  μ¤ν† λ¦¬ μ—μ΄μ „νΈμ™€ μƒνΈμ‘μ©ν•  ν΄λΌμ΄μ–ΈνΈλ¥Ό μ΄κΈ°ν™”ν•λ” ν›…μ„ μƒμ„±ν•κ² μµλ‹λ‹¤.

<Tabs>
<TabItem label="hooks/useStoryAgent.tsx">
<E2ECode path="dungeon-adventure/4/hooks/useStoryAgent.tsx.template" lang="tsx" />
</TabItem>
</Tabs>

μ΄ μ½”λ“λ” λ‹¤μ μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤:

- `runtime-config.json`μ—μ„ μ—μ΄μ „νΈ ARN μ¶”μ¶
- ARNμΌλ΅ AgentCore λ°νƒ€μ„ νΈμ¶ URL κµ¬μ„±
- λ΅κ·ΈμΈ μ‚¬μ©μμ JWT ν† ν°κ³Ό μ„μ μ„Έμ… IDλ΅ μ—μ΄μ „νΈ νΈμ¶
- μ¤νΈλ¦¬λ°λ μ—μ΄μ „νΈ λ©”μ‹μ§€ μ²­ν¬λ¥Ό μ†λΉ„ν•κΈ° μ„ν• λΉ„λ™κΈ° μ΄ν„°λ μ΄ν„° λ°ν™

:::tip
`api-connection` μ λ„λ μ΄ν„°λ¥Ό μ‚¬μ©ν–κΈ° λ•λ¬Έμ— Game API ν†µν•©μ΄ μλ™μΌλ΅ κµ¬μ„±λ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ—μ΄μ „νΈμ— μ μ‚¬ν• κ²½ν—μ„ μ›ν•μ‹λ©΄ [μ΄ GitHub μ΄μ](https://github.com/awslabs/nx-plugin-for-aws/issues/326)μ— +1μ„ λ‚¨κ²¨μ£Όμ„Έμ”.
:::

### κ²μ„ νμ΄μ§€

APIλ¥Ό νΈμ¶ν•  κ²μ„ νμ΄μ§€λ¥Ό μƒμ„±ν•κ³  κ²μ„ κµ¬ν„μ„ μ™„μ„±ν•κ² μµλ‹λ‹¤. `packages/game-ui/src/routes/game`μ—μ„ λ‹¤μ νμΌλ“¤μ„ μ—…λ°μ΄νΈν•μ„Έμ”:

<Tabs>
<TabItem label="index.tsx">
<E2ECode path="dungeon-adventure/4/routes/game/index.tsx.template" lang="tsx" />
</TabItem>
<TabItem label="$playerName.tsx">

<E2ECode path="dungeon-adventure/4/routes/game/$playerName.tsx.template" lang="tsx" />

<Aside type="tip">
`$playerName` κµ¬λ¬Έμ€ `@tanstack/react-router`μ—κ² `playerName`μ„ [κ²½λ΅ νλΌλ―Έν„°](https://tanstack.com/router/v1/docs/framework/react/guide/path-params)λ΅ μ²λ¦¬ν•λ„λ΅ μ§€μ‹ν•©λ‹λ‹¤. λν• `validateSearch` λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄ `genre` μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ¥λ¥΄ μ—΄κ±°ν•μ— κ°•λ ¥ν•κ² νƒ€μ… μ§€μ •λλ„λ΅ ν•©λ‹λ‹¤.
</Aside>
</TabItem>
</Tabs>

μ΄μ  λ³€κ²½ μ‚¬ν•­μ„ μ μ©ν•λ©΄ λ΅μ»¬ κ°λ° μ„λ²„(http://localhost:4200/)μ—μ„ κ²μ„μ„ ν”λ μ΄ν•  μ¤€λΉ„κ°€ μ™„λ£λ©λ‹λ‹¤!

<Drawer title="λΉλ“ λ° λ°°ν¬" trigger="μ›ν•  κ²½μ° μ½”λ“λ¥Ό λΉλ“ν•μ—¬ Cloudfrontμ— λ°°ν¬ν•  μλ„ μμµλ‹λ‹¤.">

λΉλ“ λ…λ Ήμ–΄:

<NxCommands commands={['run-many --target build --all']} />

μ• ν”λ¦¬μΌ€μ΄μ… λ°°ν¬:

<NxCommands commands={['run @dungeon-adventure/infra:deploy dungeon-adventure-infra-sandbox/*']} />

λ°°ν¬ μ™„λ£ ν›„ CDK λ°°ν¬ μ¶λ ¥μ—μ„ ν™•μΈν•  μ μλ” Cloudfront URLλ΅ μ ‘μ†ν•μ„Έμ”.

</Drawer>

<Image src={gameSelectPng} alt="game-select.png" width="500" height="400" />
<div style="margin-top: -100px; margin-left: 100px;">
<Image src={gameConversationPng} alt="game-conversation.png" width="500" height="400" />
</div>

μ¶•ν•ν•©λ‹λ‹¤. μ—μ΄μ „νΈ κΈ°λ° λμ „ μ–΄λ“λ²¤μ² κ²μ„μ„ μ„±κ³µμ μΌλ΅ κµ¬μ¶•ν•κ³  λ°°ν¬ν•μ…¨μµλ‹λ‹¤! π‰π‰π‰