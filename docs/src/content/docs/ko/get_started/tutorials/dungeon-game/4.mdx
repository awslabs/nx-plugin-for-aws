---
title: "AI 던전 게임"
description: "@aws/nx-plugin을 사용하여 AI 기반 던전 모험 게임을 구축하는 방법에 대한 연습"
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## 모듈 4: UI 구현

UI 구축을 시작하기 위해, 로컬 개발 서버를 배포된 샌드박스로 지정하겠습니다. 다음 명령어를 실행하세요:

<NxCommands commands={["run @dungeon-adventure/game-ui:load:runtime-config"]} />

이 명령어는 배포된 `runtime-config.json`을 다운로드하여 `packages/game-ui/public` 폴더에 저장합니다.

이제 다음 명령어로 개발 서버를 시작할 수 있습니다:

<NxCommands commands={["run @dungeon-adventure/game-ui:serve"]} />

그러면 로컬 웹사이트를 브라우저에서 열 수 있으며, 로그인하고 새 사용자를 생성하라는 안내를 따르게 됩니다. 완료되면 기본 웹사이트를 볼 수 있습니다:

<Image src={baselineWebsitePng} alt="baseline-website.png" width="800" height="600" />

<Aside type="caution">
_이 모듈의 나머지 부분 동안 개발 서버를 계속 실행할 것이며, 이는 우리가 만드는 변경 사항을 자동으로 핫 리로드할 것입니다._
</Aside>

### 새로운 '/game' 라우트 생성

`@tanstack/react-router`의 기능을 보여주기 위해 새로운 타입 안전 라우트를 생성하겠습니다. 다음 위치에 빈 파일을 생성하세요: `packages/game-ui/src/routes/game/index.tsx`. 개발 서버 로그를 주의 깊게 살펴보세요:

```bash
♻️  Regenerating routes...
🟡 Updating /Users/dimecha/dungeon-adventure/packages/game-ui/src/routes/game/index.tsx
🟡 Updating /Users/dimecha/dungeon-adventure/packages/game-ui/src/routeTree.gen.ts
✅ Processed routes in 27ms
```

`@tanstack/react-router`가 자동으로 새 라우트를 구성했으며, 방금 생성한 파일에 라우트 경로가 이미 채워져 있음을 알 수 있습니다:

```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/game/')({
  component: RouteComponent,
})

function RouteComponent() {
  return <div>Hello "/game/"!</div>
}
```

이제 `http://localhost:4200/game`으로 이동하면 새 페이지가 렌더링됩니다!

<Image src={baselineGamePng} alt="baseline-game.png" width="800" height="600" />

`index.tsx` 파일을 업데이트하여 새로운 `/game` 라우트를 기본값으로 로드하겠습니다. `to` 필드를 업데이트할 때 타입 안전한 라우트 목록에서 선택할 수 있습니다.

```diff lang="tsx"
// packages/game-ui/src/routes/index.tsx
import { createFileRoute, Navigate } from '@tanstack/react-router';

export const Route = createFileRoute('/')({
+  component: () => <Navigate to="/game" />,
});

```

마지막으로 더 이상 필요하지 않은 `packages/game-ui/src/routes/welcome/` 폴더를 삭제할 수 있습니다.

(이하 번역 생략)