---
title: "타입스크립트 MCP 서버"
description: "대규모 언어 모델에 컨텍스트를 제공하기 위한 타입스크립트 모델 컨텍스트 프로토콜(MCP) 서버 생성"
---



import { FileTree } from '@astrojs/starlight/components';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import Link from '@components/link.astro';
import Snippet from '@components/snippet.astro';
import GeneratorParameters from '@components/generator-parameters.astro';

대형 언어 모델(LLM)에 컨텍스트를 제공하기 위한 TypeScript [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) 서버 생성하기.

## MCP란?

[Model Context Protocol (MCP)](https://modelcontextprotocol.io/)는 AI 어시스턴트가 외부 도구 및 리소스와 상호작용할 수 있도록 하는 오픈 표준입니다. LLM이 다음을 일관된 방식으로 수행할 수 있도록 지원합니다:

- 작업 수행 또는 정보 검색을 위한 도구(함수) 실행
- 컨텍스트 또는 데이터 제공 리소스 접근

## 사용 방법

### MCP 서버 생성

TypeScript MCP 서버는 두 가지 방식으로 생성할 수 있습니다:

<RunGenerator generator="ts#mcp-server" />

:::tip
먼저 MCP 서버를 추가할 프로젝트를 생성하기 위해 <Link path="/guides/typescript-project">`ts#project`</Link> 생성기를 사용하세요.
:::

### 옵션

<GeneratorParameters generator="ts#mcp-server" />

## 생성기 출력

생성기는 기존 TypeScript 프로젝트에 다음 파일들을 추가합니다:

<FileTree>
  - your-project/
    - src/
      - mcp-server/ (사용자 지정 이름 지정 가능)
        - index.ts MCP 서버 진입점
        - server.ts 메인 서버 정의
        - tools/
          - add.ts 샘플 도구
        - resources/
          - sample-guidance.ts 샘플 리소스
    - package.json bin 항목 및 MCP 종속성 업데이트
    - project.json MCP 서버 서빙 타겟 업데이트
</FileTree>

## MCP 서버 작업하기

### 도구 추가

도구는 AI 어시스턴트가 호출할 수 있는 동작 수행 함수입니다. `server.ts` 파일에 새 도구를 추가할 수 있습니다:

```typescript
server.tool("toolName", "tool description",
  { param1: z.string(), param2: z.number() }, // Zod를 사용한 입력 스키마
  async ({ param1, param2 }) => {
    // 도구 구현
    return {
      content: [{ type: "text", text: "Result" }]
    };
  }
);
```

### 리소스 추가

리소스는 AI 어시스턴트에 컨텍스트를 제공합니다. 파일에서 정적 리소스나 동적 리소스를 추가할 수 있습니다:

```typescript
const exampleContext = '반환할 컨텍스트';

server.resource('resource-name', 'example://resource', async (uri) => ({
  contents: [{ uri: uri.href, text: exampleContext }],
}));

// 동적 리소스
server.resource('dynamic-resource', 'dynamic://resource', async (uri) => {
  const data = await fetchSomeData();
  return {
    contents: [{ uri: uri.href, text: data }],
  };
});
```

## AI 어시스턴트와 연동 설정

### 설정 파일

MCP를 지원하는 대부분의 AI 어시스턴트는 유사한 설정 방식을 사용합니다. MCP 서버 정보로 설정 파일을 생성하거나 업데이트해야 합니다:

```json
{
  "mcpServers": {
    "your-mcp-server": {
      "command": "npx",
      "args": ["tsx", "/path/to/your-mcp-server/index.ts"]
    }
  }
}
```

:::caution
서버 연결 시 `ENOENT npx` 오류가 발생하면 터미널에서 `which npx`를 실행하여 얻은 전체 경로를 지정해야 할 수 있습니다.
:::

### 핫 리로드

MCP 서버 개발 중에는 AI 어시스턴트가 항상 최신 도구/리소스를 인식하도록 `--watch` 플래그를 설정할 수 있습니다:

```json {5}
{
  "mcpServers": {
    "your-mcp-server": {
      "command": "npx",
      "args": ["tsx", "--watch", "/path/to/your-mcp-server/index.ts"]
    }
  }
}
```

:::note
새 도구나 리소스를 추가한 경우 AI 어시스턴트에서 MCP 서버를 새로고침해야 할 수 있습니다.
:::

### 어시스턴트별 설정

특정 AI 어시스턴트와의 MCP 연동 설정은 다음 문서를 참조하세요:

<Snippet name="mcp/assistant-docs" />

:::tip
Amazon Q Developer와 같은 일부 AI 어시스턴트는 워크스페이스 수준 MCP 서버 설정을 지원하며, 특정 프로젝트와 관련된 MCP 서버를 정의하는 데 유용합니다.
:::

## MCP 서버 실행하기

MCP 서버를 테스트하고 사용하는 가장 쉬운 방법은 AI 어시스턴트와 연동하는 것입니다(위 참조). 하지만 [STDIO 전송](https://modelcontextprotocol.io/docs/concepts/transports#standard-input%2Foutput-stdio)에서 [Streamable HTTP 전송](https://modelcontextprotocol.io/docs/concepts/transports#streamable-http)으로 전환할 때 유용한 `<your-server-name>-serve` 타겟을 사용해 서버를 실행할 수도 있습니다.

<NxCommands commands={['run your-project:your-server-name-serve']} />

이 명령은 파일 변경 시 서버를 자동으로 재시작하는 `tsx --watch`를 사용합니다.