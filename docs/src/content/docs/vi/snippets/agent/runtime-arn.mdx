---
title: "ARN của Bedrock AgentCore Runtime"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

Để gọi Agent của bạn đã triển khai lên Bedrock AgentCore Runtime, bạn có thể gửi một yêu cầu POST đến điểm cuối dataplane của Bedrock AgentCore Runtime với ARN runtime đã được mã hóa URL.

Bạn có thể lấy ARN runtime từ cơ sở hạ tầng của mình như sau:

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

ARN sẽ có định dạng như sau: `arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`.

Sau đó, bạn có thể mã hóa URL cho ARN bằng cách thay thế `:` bằng `%3A` và `/` bằng `%2F`.

:::tip
Điều này rất đơn giản trong console trình duyệt hoặc Node REPL bằng cách sử dụng phương thức `encodeURIComponent` có sẵn:

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

URL dataplane của Bedrock AgentCore Runtime để gọi agent như sau:

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

Cách chính xác để gọi URL này phụ thuộc vào phương thức xác thực được sử dụng.