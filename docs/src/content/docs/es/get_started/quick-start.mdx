---
title: "Gu칤a de Inicio R치pido"
description: "Una introducci칩n r치pida sobre c칩mo usar @aws/nx-plugin."
---



import { Steps } from '@astrojs/starlight/components';
import Link from '@components/link.astro';
import Snippet from '@components/snippet.astro';
import CreateNxWorkspaceCommand from '@components/create-nx-workspace-command.astro';
import InstallCommand from '@components/install-command.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';

Esta gu칤a te guiar치 a trav칠s de los conceptos b치sicos de instalar y usar `@aws/nx-plugin` para construir proyectos r치pidamente en AWS.

:::tip
Para un tutorial m치s detallado sobre c칩mo construir una aplicaci칩n full-stack, consulta el <Link path="get_started/tutorials/dungeon-game/overview">Tutorial de Aventura en la Mazmorra</Link>.
:::

## Requisitos Previos

Se necesitan las siguientes dependencias globales antes de continuar:

<Snippet name="prerequisites" />

## Paso 1: Inicializar un nuevo espacio de trabajo Nx

Ejecuta el siguiente comando para crear un espacio de trabajo Nx con el gestor de paquetes de tu elecci칩n:

<CreateNxWorkspaceCommand workspace="my-project" />

Una vez completado, navega al directorio del proyecto:

```sh
cd my-project
```

## Paso 2: Usar generadores para estructurar tu proyecto

En esta gu칤a r치pida a침adiremos una API tRPC, un sitio web React, Autenticaci칩n con Cognito e Infraestructura CDK. Dependiendo del tipo de proyecto que est칠s construyendo, puedes elegir cualquier combinaci칩n de generadores para inicializar r치pidamente tu proyecto. Consulta las __Gu칤as__ en la barra de navegaci칩n izquierda para ver la lista completa de opciones.

### A침adir una API tRPC

<RunGenerator generator="ts#trpc-api" requiredParameters={{ name: 'demo-api', auth: 'IAM' }} />

Esto crear치 la API dentro de la carpeta `packages/demo-api`.

### A침adir un sitio web React

<RunGenerator generator="ts#react-website" requiredParameters={{ name: 'demo-website' }} />

Esto genera un nuevo sitio web React en `packages/demo-website`.

### A침adir Autenticaci칩n con Cognito

<RunGenerator generator="ts#react-website#auth" requiredParameters={{ project: '@my-project/demo-website', cognitoDomain: 'my-demo' }} />

Esto configura la infraestructura necesaria y el c칩digo React para a침adir Autenticaci칩n con Cognito a tu sitio web.

### Conectar el frontend al backend

<RunGenerator generator="api-connection" requiredParameters={{ sourceProject: '@my-project/demo-website', targetProject: '@my-project/demo-api' }} />

Esto configura los proveedores necesarios para garantizar que tu sitio web pueda llamar a tu API tRPC.

### A침adir Infraestructura CDK

<RunGenerator generator="ts#infra" requiredParameters={{ name: 'infra' }} />

Esto configura una aplicaci칩n CDK que puedes usar para desplegar tu infraestructura en AWS.

## Paso 3: Ejecutar tu sitio web y API localmente

Usa el siguiente comando para iniciar servidores de desarrollo local para tu sitio web y sus APIs conectadas:

<NxCommands commands={['run demo-website:serve-local']} />

Tu sitio web estar치 disponible en `http://localhost:4200`.

Los cambios tanto en tu sitio web como en la API se reflejar치n en tiempo real, ya que ambos servidores locales recargar치n autom치ticamente.

## Paso 4: Definir recursos en la nube y desplegar en AWS

Abre `packages/infra/src/stacks/application-stack.ts` y a침ade el siguiente c칩digo:

```typescript
import * as cdk from 'aws-cdk-lib';
import { DemoApi, DemoWebsite, UserIdentity } from ':my-project/common-constructs';
import { Construct } from 'constructs';

export class ApplicationStack extends cdk.Stack {
  constructor(scope: Construct, id: string, props?: cdk.StackProps) {
    super(scope, id, props);

    const identity = new UserIdentity(this, 'identity');
    const api = new DemoApi(this, 'api', {
      integrations: DemoApi.defaultIntegrations(this).build(),
    });
    api.grantInvokeAccess(identity.identityPool.authenticatedRole);

    new DemoWebsite(this, 'website');
  }
}
```

// Este es todo el CDK que necesitamos escribir para desplegar nuestra aplicaci칩n full-stack.

### Construir y desplegar la infraestructura

Luego, ejecuta el siguiente comando para construir tu proyecto:

<NxCommands commands={['run-many --target build --all']} />

:::tip
Si encuentras errores de linting, puedes ejecutar el siguiente comando para corregirlos autom치ticamente.

<NxCommands commands={['run-many --target lint --configuration=fix --all']} />
:::

Ejecuta el siguiente comando para desplegar tu proyecto:

<NxCommands commands={['run infra:deploy --all']} />

:::tip
Necesitar치s asegurarte de que tu entorno AWS ha sido configurado apropiadamente para CDK.

Se requiere configuraci칩n inicial (bootstrapping) de CDK tanto para tu regi칩n de despliegue objetivo en AWS como para `us-east-1` para permitir el despliegue del WebACL de AWS WAF para el sitio web.

<NxCommands commands={['run infra:bootstrap']} />
:::

## Paso 5: Probar el sitio web con recursos en la nube desplegados

<Steps>
1. Obt칠n el archivo `runtime-config.json`:

    <NxCommands commands={['run demo-website:load:runtime-config']} />

2. Inicia el servidor local del sitio web

    <NxCommands commands={['run demo-website:serve']} />
</Steps>

Tu sitio web estar치 disponible en `http://localhost:4200`, y apuntar치 a los recursos que desplegaste para la API y la autenticaci칩n.

---

춰Felicidades! 游꿀 춰Has construido y desplegado exitosamente una aplicaci칩n full-stack usando `@aws/nx-plugin`!