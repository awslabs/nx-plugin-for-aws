---
title: "CORS設定CDK"
---

import Link from '@components/link.astro';

:::note
ソリューションにウェブサイトが含まれている場合、HTTP / REST API用のAPIゲートウェイ / API AWS Lambda統合において、CloudFrontディストリビューションを唯一許可されたCORSオリジンとして設定できます。この制限はREST APIのプリフライトOPTIONSには適用されないことに注意してください - この問題に対処する優先順位を上げるために、[このGitHub issue](https://github.com/awslabs/nx-plugin-for-aws/issues/377)に+1をお願いします。
APIを作成してから、作成したウェブサイトを使用してAPIの`restrictCorsTo`メソッドを呼び出す必要があります。

```ts
import { MyApi, MyWebsite } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const api = new MyApi(this, 'MyApi', {
      integrations: MyApi.defaultIntegrations(this).build(),
    });
    const website = new MyWebsite(this, 'MyWebsite');
    api.restrictCorsTo(website);
  }
}
```

`MyWebsite`コンストラクトは、<Link path="/guides/react-website">`ts#react-website`ジェネレーター</Link>を使用して生成できます
:::