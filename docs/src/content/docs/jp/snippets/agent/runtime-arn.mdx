---
title: "Bedrock AgentCore Runtime ARN"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

Bedrock AgentCore Runtimeにデプロイされたエージェントを呼び出すには、URLエンコードされたランタイムARNを使用して、Bedrock AgentCore RuntimeデータプレーンエンドポイントにPOSTリクエストを送信します。

ランタイムARNは、以下のようにインフラストラクチャから取得できます:

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

ARNは次の形式になります: `arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`

次に、`:`を`%3A`に、`/`を`%2F`に置き換えることで、ARNをURLエンコードできます。

:::tip
ブラウザコンソールまたはNode REPLで組み込みの`encodeURIComponent`メソッドを使用すると簡単です:

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

エージェントを呼び出すためのBedrock AgentCore RuntimeデータプレーンURLは次のとおりです:

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

このURLを呼び出す正確な方法は、使用する認証方法によって異なります。