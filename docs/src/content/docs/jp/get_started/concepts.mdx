---
title: 概念
description: '主要な概念。'
---

import { Image } from 'astro:assets';
import { Aside } from '@astrojs/starlight/components';
import typeSafetyGif from '@assets/type-safety.gif';
import websiteGeneratorGif from '@assets/website-generator.gif';
import generatorsJpg from '@assets/generators.png';

`@aws/nx-plugin`は、AWSでのフルスタックアプリケーションの構築とデプロイのプロセスを簡素化するためのツールキットを提供する[Nx](https://nx.dev/)プラグインです。アプリケーションとIaCコードの両方に事前設定されたテンプレートを開発者に提供し、セットアップと設定にかかる時間を大幅に削減します。このプラグインは、カスタマイズの柔軟性を維持しながら、AWSサービス統合の複雑さを処理します。

ユーザーは利用可能な[ジェネレーター](#generators)のリストから必要なコンポーネントを簡単に選択し、設定オプションを提供するだけで、`@aws/nx-plugin`が必要なスターターコードを生成します。このツールキットには、API、ウェブサイト、インフラストラクチャを作成したり、フロントエンドとバックエンドの統合（ASTトランスフォームによる既存ファイルの更新を含む！）や型安全なクライアントの作成など、より高度なことを行うことができる複数のジェネレーターが存在します。

<Image src={websiteGeneratorGif} alt="ジェネレーター" width="800" height="600" />

## Nxの上に構築

[Nx](https://nx.dev)は、インテリジェントなビルドシステムとコードジェネレーターという2つの主要機能を通じて、複雑な多言語プロジェクトの管理に優れたスマートビルドフレームワークです。

ビルドシステムは、高度なキャッシングと依存関係グラフ分析を使用してタスク実行を最適化します。コードの変更に基づいて必要なものだけを再ビルドし、ビルド時間を大幅に短縮します。タスクは並行して実行でき、Nxはプロジェクトの依存関係に基づいて最適な実行順序を自動的に決定します。これにより、特に大規模なコードベースでは、テスト、リント、ビルドなどの操作が非常に効率的になります。

ジェネレーターは、プロジェクト全体で一貫したコード構造を作成する自動化されたスキャフォールディングツールとして機能します。事前定義されたテンプレートとパターンに従って、個々のコンポーネントから完全なアプリケーションまで何でも生成できます。チームは、これらのジェネレーターを特定の要件とコーディング標準に合わせてカスタマイズできます。

これらの機能が組み合わさることで、Nxはモノレポの管理と、高い開発速度を維持しながらチーム間で一貫した開発プラクティスを確保するのに特に効果的です。

## ジェネレーター

このプラグインで利用可能なすべてのコンポーネントは、反復的なタスクの自動化と新規および既存のプロジェクトの一貫したスキャフォールディングを可能にする[ジェネレーター](https://nx.dev/features/generate-code)として実装されています。

ジェネレーターは、[Nx CLI](https://nx.dev/features/generate-code#invoke-generators)または[Nx Console IDEプラグイン](https://nx.dev/getting-started/editor-setup)を通じて呼び出すことができます。

<Image src={generatorsJpg} alt="ジェネレーター" width="800" height="600" />

## 修正に対応

生成されたすべてのコードはあなたのコードであり、必要に応じて自由に編集できます。これにより、生成されたコードに気に入らない点があれば自由に修正できるため、開発者の体験が大幅に簡素化されます。

## 最小限の依存関係

`@aws/nx-plugin`は依存関係の数を最小限に抑えるよう努めており、そのため開始するためのグローバル要件は、呼び出すジェネレーターによって異なります。

例として、TypeScriptベースのジェネレーターでは、[Node](https://nodejs.org/en/download)のインストールのみが必要です。Pythonベースのプロジェクトでは、[UV](https://docs.astral.sh/uv/)が唯一の要件です。

<Aside>
  UVがPythonパッケージおよびプロジェクトマネージャーとして選ばれた理由はいくつかあります：
  - `pip`、`pip-tools`、`pipx`、`poetry`、`pyenv`、`twine`、`virtualenv`などの代替として機能する単一ツール
  - `pip`より10〜100倍高速
  - ネイティブの[ワークスペース/モノレポ](https://docs.astral.sh/uv/concepts/projects/workspaces/)サポート
</Aside>

## 単一バージョンポリシー

デフォルトのモノレポ設定では、NodeとPythonベースのプロジェクトの両方に[単一バージョンポリシー](https://nx.dev/concepts/decisions/dependency-management#single-version-policy)を使用しています。

これは、モノレポ内のすべてのプロジェクトがデフォルトで同じバージョンの依存関係を使用することを意味し、同じモノレポ内のパッケージがバージョンの不一致の問題に遭遇するリスクを軽減します。

Nodeの観点からは、これはルートに単一のロックファイルがあり、すべての依存関係を含む単一の`node_modules`があることを意味します。新しい依存関係を追加する必要がある場合は、ルートの`package.json`で行います。

Pythonの観点からは、これはモノレポのルートに単一の`.venv`があり、すべての依存関係がそこにインストールされることを意味します。ただし、各Pythonプロジェクトには独自の`pyproject.toml`がありますが、これらの依存関係のバージョンはuvワークスペースによって管理され、その後ルートの`uv.lock`ファイルに書き出されます。

## 型安全性

`@aws/nx-plugin`は、IDE補完を通じて開発者の体験を簡素化するために型安全性を採用しており、型安全でない実装では発生する可能性のあるランタイムエラーも排除しています。そのため、提供されるすべてのコンポーネントはデフォルトで型安全です。

<Image src={typeSafetyGif} alt="ジェネレーター" width="800" height="600" />
