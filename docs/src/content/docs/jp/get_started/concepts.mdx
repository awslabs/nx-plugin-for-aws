---
title: "概念"
description: "主要な概念。"
---

import { Image } from 'astro:assets';
import { Aside } from '@astrojs/starlight/components';
import typeSafetyGif from '@assets/type-safety.gif';
import websiteGeneratorGif from '@assets/website-generator.gif';
import generatorsJpg from '@assets/generators.png';

`@aws/nx-plugin`は、AWS上でフルスタックアプリケーションの構築とデプロイメントを簡素化するツールキットを提供する[Nx](https://nx.dev/)プラグインです。アプリケーションとIaCコードの両方に対して事前設定されたテンプレートを提供し、セットアップと設定に費やす時間を大幅に削減します。このプラグインは、カスタマイズの柔軟性を維持しながら、AWS サービス統合の複雑さを処理します。

ユーザーは、利用可能な[ジェネレーター](#generators)のリストから必要なコンポーネントを簡単に選択し、設定オプションを提供することで、`@aws/nx-plugin`が必要なスターターコードを生成します。このツールキット内には、APIの作成、ウェブサイト、インフラストラクチャの生成、さらには型安全なクライアントを含むフロントエンドとバックエンドの統合（ASTトランスフォームを使用して既存のファイルを更新）などのより洗練された処理を行う複数のジェネレーターが存在します。

<Image src={websiteGeneratorGif} alt="generator" width="800" height="600" />

## Nx の上に構築

[Nx](https://nx.dev) は、2つのコア機能（インテリジェントなビルドシステムとコードジェネレータ）を通じて複雑な多言語プロジェクトを管理することに長けたスマートなビルドフレームワークです。

ビルドシステムは、高度なキャッシングと依存関係グラフ分析を使用して、タスク実行を最適化します。コード変更に基づいて必要なものだけを再ビルドし、ビルド時間を大幅に短縮します。タスクは並列で実行でき、Nx はプロジェクトの依存関係に基づいて最適な実行順序を自動的に決定します。これにより、テスト、リント、ビルドなどの操作が、特に大規模なコードベースで非常に効率的になります。

ジェネレータは、プロジェクト全体で一貫したコード構造を作成する自動化されたスキャフォールディングツールとして機能します。事前定義されたテンプレートとパターンに従って、個々のコンポーネントから完全なアプリケーションまで、あらゆるものを生成できます。チームは、特定の要件とコーディング標準に合わせてこれらのジェネレータをカスタマイズできます。

これらの機能により、Nx はモノレポの管理と、高い開発速度を維持しながらチーム間で一貫した開発プラクティスを確保することに特に効果的です。

## ジェネレーター

このプラグインで利用可能なすべてのコンポーネントは、[ジェネレーター](https://nx.dev/features/generate-code)として実装されており、反復的なタスクの自動化を可能にし、新規および既存のプロジェクトの一貫したスキャフォールディングを可能にします。

ジェネレーターは、[Nx CLI](https://nx.dev/features/generate-code#invoke-generators)または[Nx Console IDE プラグイン](https://nx.dev/getting-started/editor-setup)を介して呼び出すことができます。

<Image src={generatorsJpg} alt="ジェネレーター" width="800" height="600" />

## 変更可能

生成されたすべてのコードはあなたのコードであり、自由に編集できます。これにより、開発者の体験が大幅に簡素化され、生成されたコードに気に入らない部分があれば、自由に変更することができます。

## 最小限の依存関係

`@aws/nx-plugin` は依存関係の数を最小限に抑えることを目指しており、開始するためのグローバル要件は、呼び出すジェネレータに依存します。

例えば、TypeScriptベースのジェネレータは、[Node](https://nodejs.org/en/download)のインストールのみが必要です。Pythonベースのプロジェクトの場合、[UV](https://docs.astral.sh/uv/)が唯一の要件です。

<Aside>
  UVは以下のような理由でPythonパッケージおよびプロジェクトマネージャーとして選択されました：
  - `pip`、`pip-tools`、`pipx`、`poetry`、`pyenv`、`twine`、`virtualenv`などの代替となる単一のツール
  - `pip`と比較して10-100倍高速
  - ネイティブな[ワークスペース/モノレポ](https://docs.astral.sh/uv/concepts/projects/workspaces/)サポート
</Aside>

## シングルバージョンポリシー

デフォルトのモノレポセットアップは、Node と Python ベースのプロジェクトの両方に対して [シングルバージョンポリシー](https://nx.dev/concepts/decisions/dependency-management#single-version-policy) を使用します。

これは、モノレポ内のすべてのプロジェクトがデフォルトで同じバージョンの依存関係を使用することを意味し、同じモノレポ内のパッケージでバージョンの不一致に関する問題を減らします。

Node の観点からは、これはルートに単一のロックファイルと、すべての依存関係を含む単一の `node_modules` があることを意味します。新しい依存関係を追加する必要がある場合は、ルートの `package.json` で行います。

Python の観点からは、これはモノレポのルートに単一の `.venv` があり、すべての依存関係がそこにインストールされることを意味します。ただし、各 Python プロジェクトには独自の `pyproject.toml` がありますが、これらの依存関係のバージョンは uv ワークスペースによって管理され、その後ルートの `uv.lock` ファイルに書き出されます。

## 型安全性

`@aws/nx-plugin` は、IDEの補完を通じて開発者の体験を簡素化し、型安全でない実装でのみ発生するランタイムエラーを排除するために、型安全性を採用しています。そのため、提供されるすべてのコンポーネントは、デフォルトで型安全になります。

<Image src={typeSafetyGif} alt="ジェネレーター" width="800" height="600" />