---
title: "AIダンジョンゲーム"
description: "@aws/nx-pluginを使用してAIパワードのダンジョン冒険ゲームを構築する方法のチュートリアル。"
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import { Image } from 'astro:assets';
import Link from '@components/link.astro';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import CreateNxWorkspaceCommand from '@components/create-nx-workspace-command.astro';
import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## モジュール1: モノレポのセットアップ

まず、新しいモノレポを作成します。目的のディレクトリ内で、次のコマンドを実行します：

<CreateNxWorkspaceCommand workspace="dungeon-adventure" />

これにより、`dungeon-adventure`ディレクトリ内にNXモノレポがセットアップされ、VSCodeで開くことができます。以下のようになります：

<FileTree>
- .nx/
- .vscode/
- node_modules/
- packages/ ここにサブプロジェクトが配置されます
- .gitignore
- .npmrc
- .prettierignore
- .prettierrc
- nx.json NX CLIとモノレポのデフォルト設定
- package.json すべてのノード依存関係がここで定義されます
- pnpm-lock.yaml または bun.lock、yarn.lock、package-lock.json パッケージマネージャーに依存
- pnpm-workspace.yaml pnpmを使用する場合
- README.md
- tsconfig.base.json すべてのノードベースのサブプロジェクトはこれを拡張します
- tsconfig.json
</FileTree>

`@aws/nx-plugin`のコンポーネントをモノレポに追加するには、`dungeon-adventure`モノレポのルートから次のコマンドを実行して、開発依存関係としてインストールする必要があります：

<InstallCommand dev pkg="@aws/nx-plugin" />

これで、`@aws/nx-plugin`を使用して異なるサブプロジェクトの作成を開始できます。

<Aside type="tip">ジェネレーターを実行する前に、すべての未ステージングのファイルをGitにコミットすることをお勧めします。これにより、`git diff`を使用してジェネレーター実行後の変更を確認できます。</Aside>

### ゲームAPI

まず、ゲームAPIを作成します。以下の手順に従って、`GameApi`というtRPC APIを作成します：

<RunGenerator generator="ts#trpc-api" requiredParameters={{apiName:"GameApi"}} noInteractive />

<br />

新しいファイルがファイルツリーに追加されたはずです。

<Aside>
ルートの`package.json`が`module`タイプに設定され、`@aws/nx-plugin`によって提供されるすべてのノードベースのサブプロジェクトのデフォルトモジュールタイプがESMになりました。TypeScriptプロジェクトの詳細については、<Link path="guides/typescript-project">ts#プロジェクトガイド</Link>を参照してください。
</Aside>

（以下、同様に翻訳を続けます。全文の翻訳が必要な場合は、続けて翻訳いたします。）