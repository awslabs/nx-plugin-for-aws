---
title: "AIダンジョンゲーム"
description: "@aws/nx-pluginを使用してAIパワードのダンジョン冒険ゲームを構築する方法のチュートリアル。"
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## モジュール4: UIの実装

UIの構築を開始するために、デプロイされたサンドボックスを指すようにローカル開発サーバーを設定します。これを行うには、次のコマンドを実行します：

<NxCommands commands={["run @dungeon-adventure/game-ui:load:runtime-config"]} />

このコマンドは、デプロイされた `runtime-config.json` をダウンロードし、`packages/game-ui/public` フォルダ内にローカルに保存します。

次に、以下のコマンドで開発サーバーを起動できます：

<NxCommands commands={["run @dungeon-adventure/game-ui:serve"]} />

その後、ブラウザでローカルウェブサイトを開くと、ログインを求められ、新しいユーザーを作成するプロンプトに従います。完了すると、ベースラインのウェブサイトが表示されます：

<Image src={baselineWebsitePng} alt="baseline-website.png" width="800" height="600" />

<Aside type="caution">
_このモジュールの残りの部分を通して、開発サーバーを実行したままにします。これにより、行う変更が自動的にホットリロードされます。_
</Aside>

### 新しい '/game' ルートの作成

`@tanstack/react-router` の機能を紹介するために、新しい型安全なルートを作成します。これを行うには、`packages/game-ui/src/routes/game/index.tsx` に空のファイルを作成するだけです。開発サーバーのログに注意深く従ってください：

```bash
♻️  Regenerating routes...
🟡 Updating /Users/dimecha/dungeon-adventure/packages/game-ui/src/routes/game/index.tsx
🟡 Updating /Users/dimecha/dungeon-adventure/packages/game-ui/src/routeTree.gen.ts
✅ Processed routes in 27ms
```

`@tanstack/react-router` は自動的に新しいルートを設定し、作成したファイルにルートパスが既に設定されていることに気づくでしょう：

```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/game/')({
  component: RouteComponent,
})

function RouteComponent() {
  return <div>Hello "/game/"!</div>
}
```

`http://localhost:4200/game` に移動すると、新しいページがレンダリングされます！

<Image src={baselineGamePng} alt="baseline-game.png" width="800" height="600" />

`index.tsx` ファイルを更新して、デフォルトで新しい `/game` ルートを読み込むようにします。`to` フィールドを更新すると、型安全なルートのリストから選択できることに注意してください。

```diff lang="tsx"
// packages/game-ui/src/routes/index.tsx
import { createFileRoute, Navigate } from '@tanstack/react-router';

export const Route = createFileRoute('/')({
+  component: () => <Navigate to="/game" />,
});

```

最後に、`packages/game-ui/src/routes/welcome/` フォルダを削除できます。これはもう必要ありません。

（以下、同様に翻訳を続けます。文字数制限のため、全文を一度に表示できませんが、同じ方法で翻訳します。）