---
title: "エージェント型AIダンジョンゲーム"
description: "@aws/nx-pluginを使用したエージェント型AI搭載のダンジョン冒険ゲームの作り方チュートリアル"
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import Snippet from '@components/snippet.astro';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import Link from '@components/link.astro';

import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'


このチュートリアルでは、`@aws/nx-plugin`を使用してAIエージェントを活用したダンジョンアドベンチャーゲームを構築します。`@aws/nx-plugin`や関連技術の事前知識は必要ありません。
このチュートリアルで学ぶテクニックは以下に役立ちます：
- `@aws/nx-plugin`ベースのアプリケーションの構築
- `@aws/nx-plugin`の深い理解
- [NX](https://nx.dev/)フレームワークの基本的な使い方の理解

<Aside>本チュートリアルは、実践を通じて学びたい方や具体的な成果物を素早く作りたい方に向けて設計されています。各概念を段階的に学びたい場合は、左側のナビゲーションから個別のコンポーネントガイドを参照してください。</Aside>

チュートリアルの終わりには、以下の知識が得られます：

- `@aws/nx-plugin`を使用した新規アプリケーションの作成
- NXを使ったコードベースの管理/ビルド
- tRPCを使用したAPIの構築
- Strandsを使ったエージェントの構築
- TypeScriptでのMCPサーバー構築
- Tanstack Routerを使った新規ページの作成
- Tanstack Queryを使ったバックエンドAPIの呼び出し
- CDKインフラの作成とデプロイ

## 構築するもの

このチュートリアルでは、`@aws/nx-plugin`を使用してAIエージェントを活用したダンジョンアドベンチャーゲームを構築します。

ゲームインターフェースは以下の図のようになります：

<Image src={gameSelectPng} alt="game-select.png" width="500" height="400" />
<div style="margin-top: -100px; margin-left: 100px;">
<Image src={gameConversationPng} alt="game-conversation.png" width="500" height="400" />
</div>

### アプリケーションアーキテクチャ

AIエージェントを活用したダンジョンアドベンチャーゲームは、以下のアーキテクチャで構築されます：

<Image style="margin: auto" src={dungeonAdventureArchitecturePng} alt="dungeon-game-architecture.png" height="600" />

- React/Viteフロントエンドウェブサイト（以下を活用）：
  - セキュアなAPI呼び出しのためのAmazon Cognito/Identity Pools
  - タイプセーフなファイルベースルーティングをサポートする[Tanstack router](https://tanstack.com/router/latest)
  - Game API呼び出し用の生成されたSDK
- ゲーム状態の管理に[ElectroDB](https://electrodb.dev/)/[DynamoDB](https://aws.amazon.com/dynamodb/)を使用する[tRPC](https://trpc.io/) API
- ゲーム実行のための[Amazon Bedrock AgentCore](https://aws.amazon.com/bedrock/agentcore/)上でホストされる[Strands](https://strandsagents.com/latest/)エージェント
- エージェントがプレイヤーのインベントリを管理するための[Amazon Bedrock AgentCore](https://aws.amazon.com/bedrock/agentcore/)上でホストされるTypeScript MCPサーバー
- アプリケーションをデプロイするための[CDK](https://docs.aws.amazon.com/cdk/v2/guide/home.html)インフラ

## 前提条件

開始する前に、以下のグローバル依存関係が必要です：

<Snippet name="required-prerequisites" />
- AgentCoreコンポーネントのビルドには[Docker](https://www.docker.com/)が必要です

:::tip
Kiro、Amazon Q Developer、Cursor、Claude Code、ClineなどのAIアシスタントを使用する場合は、<Link path="/get_started/building-with-ai">Nx Plugin for AWS MCPサーバーのインストール</Link>ページを参照してください。
:::