---
title: AIダンジョンゲーム
description: '@aws/nx-pluginを使用してAI駆動のダンジョンアドベンチャーゲームを構築する方法のチュートリアル。'
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import { Content as Prerequisites } from '@snippets/prerequisites.mdx';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## 概要

このチュートリアルでは、AI駆動のダンジョンアドベンチャーゲームを構築します。このチュートリアルでは、`@aws/nx-plugin`や関連技術の既存の知識を前提としていません。このチュートリアルで学ぶ技術は、`@aws/nx-plugin`ベースのアプリケーションを構築するための基本であり、これを完全に理解することで、`@aws/nx-plugin`の深い理解と[NX](https://nx.dev/)の使用方法の基本的な理解が得られます。

<Aside>このチュートリアルは、実践的に学ぶことを好み、すぐに何か具体的なものを作ってみたい人向けに設計されています。各概念をステップバイステップで学ぶことを好む場合は、個々のコンポーネントガイドを参照してください。</Aside>

このチュートリアルを完了したユーザーは、以下の知識を得ることができます：

- `@aws/nx-plugin`を使用して新しいアプリケーションを作成する方法
- NXを使用してコードベースを管理/ビルドする方法
- tRPCとFastAPIの両方を使用してAPIを構築する方法
- Tanstackルーターを使用して新しいページを作成する方法
- Tanstackクエリを使用してバックエンドAPIを呼び出す方法
- 生成されたコードを目的に合わせて変更する方法
- CDKインフラストラクチャを作成してデプロイする方法

## 何を構築するのか？

このチュートリアルでは、`@aws/nx-plugin`を使用してAI駆動のダンジョンアドベンチャーゲームを構築します。

完成したときの様子は以下のようになります：

<Image src={gameSelectPng} alt="ゲーム選択画面" width="500" height="400" />
<div style="margin-top: -100px; margin-left: 100px;">
<Image src={gameConversationPng} alt="ゲーム会話画面" width="500" height="400" />
</div>

### アプリケーションのコンポーネント

AI駆動のダンジョンアドベンチャーゲームは、以下のコンポーネントアーキテクチャを使用して構築されます：

<Image class="white-bg" src={dungeonAdventureArchitecturePng} alt="ダンジョンゲームアーキテクチャ" width="800" height="600" />

- ゲーム状態の管理に[ElectroDB](https://electrodb.dev/)/[DynamoDB](https://aws.amazon.com/dynamodb/)を使用する[tRPC](https://trpc.io/) API
- ストーリー生成用のストリーミングレスポンスを備えたPython/[FastAPI](https://fastapi.tiangolo.com/) Lambda関数（[Amazon Bedrock](https://aws.amazon.com/bedrock/)を活用）
- 以下を利用したReact/Viteフロントエンドウェブサイト：
  - 安全なAPI呼び出しのためのAmazon Cognito/Identity Pools
  - 型安全なファイルベースのルーティングをサポートする[Tanstackルーター](https://tanstack.com/router/latest)
  - ゲームとストーリーAPIを呼び出すための生成されたSDK（[Tanstackクエリ](https://tanstack.com/query/latest)を活用）
- アプリケーションをデプロイするための[CDK](https://docs.aws.amazon.com/cdk/v2/guide/home.html)インフラストラクチャ

## 前提条件

続行する前に、以下のグローバル依存関係が必要です：

<Prerequisites />
- [このガイド](https://docs.aws.amazon.com/bedrock/latest/userguide/model-access-modify.html)に記載されている手順に従って、対象リージョンのBedrock内でAnthropicのClaude 3.5 Sonnet v2モデルへのアクセスがAWSアカウントで有効になっていることを確認してください。
