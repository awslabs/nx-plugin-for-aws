---
title: "ARN del Runtime di Bedrock AgentCore"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

Per invocare il tuo Agent distribuito su Bedrock AgentCore Runtime, puoi inviare una richiesta POST all'endpoint dataplane di Bedrock AgentCore Runtime con il tuo ARN runtime codificato in URL.

Puoi ottenere l'ARN runtime dalla tua infrastruttura come segue:

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

L'ARN avrà il seguente formato: `arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`.

Puoi quindi codificare in URL l'ARN sostituendo `:` con `%3A` e `/` con `%2F`.

:::tip
Questo è semplice in una console del browser o in un REPL Node utilizzando il metodo integrato `encodeURIComponent`:

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

L'URL dataplane di Bedrock AgentCore Runtime per invocare l'agent è il seguente:

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

Il modo esatto per invocare questo URL dipende dal metodo di autenticazione utilizzato.