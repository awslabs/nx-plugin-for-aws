---
title: "Configuração CORS CDK"
---

import Link from '@components/link.astro';

:::note
Se a sua solução incluir um website, você pode configurar a sua distribuição CloudFront como a única origem CORS permitida nas integrações API gateway / API AWS Lambda para APIs HTTP / REST. Note que esta restrição não é aplicada ao preflight OPTIONS para APIs REST - por favor, dê +1 nesta [issue do GitHub](https://github.com/awslabs/nx-plugin-for-aws/issues/377) para ajudar a priorizar a resolução disto.
Você precisará criar a API e então chamar o método `restrictCorsTo` da API com o website criado.

```ts
import { MyApi, MyWebsite } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const api = new MyApi(this, 'MyApi', {
      integrations: MyApi.defaultIntegrations(this).build(),
    });
    const website = new MyWebsite(this, 'MyWebsite');
    api.restrictCorsTo(website);
  }
}
```

O construtor `MyWebsite` pode ser gerado usando o <Link path="/guides/react-website">gerador `ts#react-website`</Link>
:::