---
title: "ARN do Bedrock AgentCore Runtime"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

Para invocar seu Agent implantado no Bedrock AgentCore Runtime, você pode enviar uma requisição POST para o endpoint do dataplane do Bedrock AgentCore Runtime com seu ARN de runtime codificado em URL.

Você pode obter o ARN de runtime da sua infraestrutura da seguinte forma:

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

O ARN terá o seguinte formato: `arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`.

Você pode então codificar o ARN em URL substituindo `:` por `%3A` e `/` por `%2F`.

:::tip
Isso é simples em um console do navegador ou Node REPL usando o método integrado `encodeURIComponent`:

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

A URL do dataplane do Bedrock AgentCore Runtime para invocar o agent é a seguinte:

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

A maneira exata de invocar esta URL depende do método de autenticação usado.