---
title: "Bedrock AgentCore Runtime ARN"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

要调用部署到 Bedrock AgentCore Runtime 的 Agent,您可以使用 URL 编码的运行时 ARN 向 Bedrock AgentCore Runtime 数据平面端点发送 POST 请求。

您可以按如下方式从基础设施中获取运行时 ARN:

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

ARN 将具有以下格式:`arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`。

然后,您可以通过将 `:` 替换为 `%3A` 和将 `/` 替换为 `%2F` 来对 ARN 进行 URL 编码。

:::tip
在浏览器控制台或 Node REPL 中使用内置的 `encodeURIComponent` 方法可以轻松实现:

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

用于调用 agent 的 Bedrock AgentCore Runtime 数据平面 URL 如下:

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

调用此 URL 的具体方式取决于所使用的身份验证方法。