---
title: "CORS 配置 CDK"
---

import Link from '@components/link.astro';

:::note
如果您的解决方案包含网站，您可以将其 CloudFront 分发配置为 API 网关 / API AWS Lambda 集成中 HTTP / REST API 唯一允许的 CORS 源。请注意，此限制不适用于 REST API 的预检 OPTIONS 请求 - 请为 [this GitHub issue](https://github.com/awslabs/nx-plugin-for-aws/issues/377) 点赞以帮助优先解决此问题。
您需要先创建 API，然后使用创建的网站调用 API 的 `restrictCorsTo` 方法。

```ts
import { MyApi, MyWebsite } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const api = new MyApi(this, 'MyApi', {
      integrations: MyApi.defaultIntegrations(this).build(),
    });
    const website = new MyWebsite(this, 'MyWebsite');
    api.restrictCorsTo(website);
  }
}
```

`MyWebsite` 构造可以使用 <Link path="/guides/react-website">`ts#react-website` generator</Link> 生成
:::