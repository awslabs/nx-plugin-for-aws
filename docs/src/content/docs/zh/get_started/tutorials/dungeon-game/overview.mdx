---
title: "代理式AI地牢游戏"
description: "使用 @aws/nx-plugin 构建代理式AI驱动的地牢冒险游戏的演练"
---

import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import Snippet from '@components/snippet.astro';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import Link from '@components/link.astro';

import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'


通过本教程，您将使用`@aws/nx-plugin`构建一个基于Agentic AI的地牢冒险游戏。本教程不要求预先掌握`@aws/nx-plugin`或相关技术。
您将在本教程中学到的技术将帮助您：
- 构建任何基于`@aws/nx-plugin`的应用程序，
- 深入理解`@aws/nx-plugin`，以及
- 掌握如何使用[NX](https://nx.dev/)框架的基础知识。

<Aside>本教程适合通过实践学习并希望快速制作有形成果的开发者。若您更倾向于逐步学习每个概念，请使用左侧导航参考各组件指南。</Aside>

完成本教程后，您将掌握以下技能：

- 使用`@aws/nx-plugin`创建新应用程序，
- 使用NX管理/构建代码库，
- 使用tRPC构建API，
- 使用Strands构建智能体，
- 用TypeScript开发MCP服务器，
- 使用Tanstack router创建新页面，
- 使用Tanstack query调用后端API，以及
- 创建并部署CDK基础设施。

## 构建内容

在本教程中，您将使用`@aws/nx-plugin`构建一个基于Agentic AI的地牢冒险游戏。

游戏界面将类似于下图：

<Image src={gameSelectPng} alt="game-select.png" width="500" height="400" />
<div style="margin-top: -100px; margin-left: 100px;">
<Image src={gameConversationPng} alt="game-conversation.png" width="500" height="400" />
</div>

### 应用架构

该地牢冒险游戏采用以下架构构建：

<Image style="margin: auto" src={dungeonAdventureArchitecturePng} alt="dungeon-game-architecture.png" height="600" />

- React/Vite前端网站包含：
  - 使用Amazon Cognito/Identity Pools进行API安全调用。
  - 支持类型安全文件路由的[Tanstack router](https://tanstack.com/router/latest)。
  - 调用游戏API的生成式SDK。
- 使用[ElectroDB](https://electrodb.dev/)/[DynamoDB](https://aws.amazon.com/dynamodb/)管理游戏状态的[tRPC](https://trpc.io/) API。
- 托管在[Amazon Bedrock AgentCore](https://aws.amazon.com/bedrock/agentcore/)上用于运行游戏的[Strands](https://strandsagents.com/latest/)智能体。
- 托管在[Amazon Bedrock AgentCore](https://aws.amazon.com/bedrock/agentcore/)的TypeScript MCP服务器，供智能体管理玩家库存。
- 用于部署应用程序的[CDK](https://docs.aws.amazon.com/cdk/v2/guide/home.html)基础设施。

## 先决条件

开始前，您需要以下全局依赖：

<Snippet name="required-prerequisites" />
- 需要[Docker](https://www.docker.com/)来构建AgentCore组件

:::tip
若使用Kiro、Amazon Q Developer、Cursor、Claude Code或Cline等AI助手，请参考<Link path="/get_started/building-with-ai">安装适用于AWS MCP服务器的Nx插件</Link>页面。
:::