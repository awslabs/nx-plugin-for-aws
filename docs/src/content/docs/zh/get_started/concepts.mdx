---
title: "概念"
description: "关键概念"
---



import { Image } from 'astro:assets';
import { Aside } from '@astrojs/starlight/components';
import typeSafetyGif from '@assets/type-safety.gif';
import websiteGeneratorGif from '@assets/website-generator.gif';
import generatorsJpg from '@assets/generators.png';

`@aws/nx-plugin` 是一个 [Nx](https://nx.dev/) 插件，为在 AWS 上构建和部署全栈应用提供工具包。它提供预配置的应用和基础设施即代码（IaC）模板，大幅减少配置时间。该插件处理 AWS 服务集成的复杂性，同时保留自定义的灵活性。

用户可从可用[生成器](#generators)中选择组件，提供配置选项，由 `@aws/nx-plugin` 生成初始代码。通过该工具包中的生成器，可创建 API、网站、基础设施及复杂功能（如通过抽象语法树（AST）转换将前端与后端集成），并生成类型安全的客户端。

<Image src={websiteGeneratorGif} alt="generator" width="800" height="600" />

## 基于 Nx 构建

[Nx](https://nx.dev) 是智能构建框架，通过智能构建系统和代码生成器管理复杂多语言项目。

构建系统利用高级缓存和依赖图分析优化任务执行，仅重建必要部分以缩短构建时间。任务并行执行，Nx 根据依赖关系自动确定最优执行顺序，提升测试、代码检查等操作的效率。

生成器作为自动化脚手架工具，创建统一代码结构。可生成组件到完整应用，遵循预定义模板。团队可自定义生成器以匹配需求。

这些特性使 Nx 在管理单体仓库和保持开发效率方面表现优异。

## 生成器

插件内所有组件均通过[生成器](https://nx.dev/features/generate-code)实现，自动化重复任务并规范项目结构。

可通过 [Nx CLI](https://nx.dev/features/generate-code#invoke-generators) 或 [Nx Console IDE 插件](https://nx.dev/getting-started/editor-setup)调用生成器。

<Image src={generatorsJpg} alt="generators" width="800" height="600" />

## 开放修改

生成代码归用户所有，可自由编辑。若对生成代码不满意，可直接修改以简化开发体验。

## 最小依赖

`@aws/nx-plugin` 尽量减少依赖项，全局需求取决于调用的生成器。

例如：

- TypeScript 生成器仅需安装 [Node](https://nodejs.org/en/download)。
- Python 项目仅需 [UV](https://docs.astral.sh/uv/)。

<Aside>
  选择 UV 作为 Python 包管理工具的原因：
  - 单一工具替代 `pip`、`pip-tools`、`pipx`、`poetry`、`pyenv`、`twine`、`virtualenv`；
  - 速度比 `pip` 快 10-100 倍；
  - 原生支持[工作区/单体仓库](https://docs.astral.sh/uv/concepts/projects/workspaces/)。
</Aside>

## 单一版本策略

默认单体仓库采用[单一版本策略](https://nx.dev/concepts/decisions/dependency-management#single-version-policy)，适用于 Node 和 Python 项目。

所有项目默认使用相同依赖版本，减少版本冲突问题。

Node 项目在根目录使用单一 `node_modules` 和锁文件。新增依赖需添加至根 `package.json`。

Python 项目在根目录使用单一 `.venv`。各项目拥有独立 `pyproject.toml`，但依赖版本由 uv 工作区管理并写入根目录 `uv.lock` 文件。

## 类型安全

`@aws/nx-plugin` 通过 IDE 自动补全和消除运行时错误实现类型安全。默认所有组件均类型安全。

<Image src={typeSafetyGif} alt="generators" width="800" height="600" />