---
title: "概念"
description: "关键概念。"
---



import { Image } from 'astro:assets';
import { Aside } from '@astrojs/starlight/components';
import typeSafetyGif from '@assets/type-safety.gif';
import websiteGeneratorGif from '@assets/website-generator.gif';
import generatorsJpg from '@assets/generators.png';

`@aws/nx-plugin` 是一个基于 [Nx](https://nx.dev/) 的插件，为在 AWS 上构建和部署全栈应用提供工具包。它通过预配置的应用和基础设施即代码（IaC）模板，大幅减少开发者的配置时间。该插件处理了 AWS 服务集成的复杂性，同时保留了自定义的灵活性。

开发者只需从现有的[生成器](#generators)中选择所需组件，提供必要的配置选项，`@aws/nx-plugin` 即可生成基础代码。该工具包包含多种生成器，可创建 API、网站、基础设施，甚至能完成复杂任务如通过 AST 转换将前端与后端集成并生成类型安全的客户端。

<Image src={websiteGeneratorGif} alt="generator" width="800" height="600" />

## 基于 Nx 构建

[Nx](https://nx.dev) 是一个智能构建框架，通过两大核心功能管理复杂多语言项目：智能构建系统和代码生成器。

其构建系统利用高级缓存和依赖图分析优化任务执行，仅重建必要变更部分，显著缩短构建时间。任务可并行运行，Nx 根据项目依赖自动确定最佳执行顺序，使测试、代码检查和构建等操作在大型代码库中保持高效。

生成器作为自动化脚手架工具，创建统一代码结构。它们能生成从独立组件到完整应用的各类产物，遵循预定义模板。团队可自定义生成器以满足特定需求和编码标准。

这些特性使 Nx 特别适用于管理单体仓库（monorepo），确保团队开发实践的一致性，同时保持高效开发节奏。

## 生成器

本插件所有组件均通过[生成器](https://nx.dev/features/generate-code)实现，可自动化重复任务并为新旧项目提供一致的基础架构。

生成器可通过 [Nx CLI](https://nx.dev/features/generate-code#invoke-generators) 或 [Nx Console IDE 插件](https://nx.dev/getting-started/editor-setup)调用。

<Image src={generatorsJpg} alt="generators" width="800" height="600" />

## 开放修改

所有生成代码均归开发者所有，可自由编辑。若对生成代码不满意，直接修改即可，极大简化开发体验。

## 最小化依赖

`@aws/nx-plugin` 致力于保持最少依赖，全局要求仅取决于所调用的生成器。

例如，基于 TypeScript 的生成器仅需安装 [Node](https://nodejs.org/en/download)。Python 项目则需 [UV](https://docs.astral.sh/uv/)。

<Aside>
  选择 UV 作为 Python 包管理器的原因包括：
  - 单一工具替代 `pip`、`pip-tools`、`pipx`、`poetry`、`pyenv` 等
  - 比 `pip` 快 10-100 倍
  - 原生支持[工作区/单体仓库](https://docs.astral.sh/uv/concepts/projects/workspaces/)
</Aside>

## 单一版本策略

默认单体仓库设置对 Node 和 Python 项目采用[单一版本策略](https://nx.dev/concepts/decisions/dependency-management#single-version-policy)。

这意味着所有项目默认使用相同依赖版本，减少版本冲突问题。Node 项目在根目录维护单个 `package.json` 和 `node_modules`，新增依赖统一在根目录添加。Python 项目则在根目录使用统一的 `.venv` 和 `uv.lock` 文件，各项目自有 `pyproject.toml`，依赖版本由 UV 工作区管理。

## 类型安全

`@aws/nx-plugin` 通过 IDE 自动补全和消除运行时错误实现类型安全，默认所有组件均具备类型安全特性。

<Image src={typeSafetyGif} alt="generators" width="800" height="600" />