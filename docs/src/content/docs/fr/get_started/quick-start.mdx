---
title: "Guide de D√©marrage Rapide"
description: "Un d√©marrage rapide sur l'utilisation de @aws/nx-plugin."
---



import { Steps } from '@astrojs/starlight/components';
import Link from '@components/link.astro';
import Snippet from '@components/snippet.astro';
import CreateNxWorkspaceCommand from '@components/create-nx-workspace-command.astro';
import InstallCommand from '@components/install-command.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';

Ce guide vous explique les bases de l'installation et de l'utilisation du plugin `@aws/nx-plugin` pour d√©velopper rapidement des projets sur AWS.

:::tip
Pour un tutoriel d√©taill√© sur la cr√©ation d'une application full-stack, consultez le <Link path="get_started/tutorials/dungeon-game/overview">Tutoriel de l'Aventure du Donjon</Link>.
:::

## Pr√©requis

Avant de commencer, installez ces d√©pendances globales :

<Snippet name="prerequisites" />

## √âtape 1 : Initialiser un nouvel espace de travail Nx

Pour cr√©er un espace de travail Nx avec le gestionnaire de paquets de votre choix, ex√©cutez la commande suivante :

<CreateNxWorkspaceCommand workspace="my-project" />

Acc√©dez au r√©pertoire du projet :

```sh
cd my-project
```

## √âtape 2 : Ajouter le plugin Nx pour AWS

Installez le plugin avec votre gestionnaire de paquets.

<InstallCommand dev pkg="@aws/nx-plugin" />

## √âtape 3 : Utiliser les g√©n√©rateurs pour structurer votre projet

Pour ce guide de d√©marrage rapide, nous allons ajouter une API tRPC, un site React, une authentification Cognito et une infrastructure CDK √† notre projet.  
Selon le type de projet que vous construisez, vous pouvez choisir n'importe quelle combinaison de g√©n√©rateurs. Pour voir la liste compl√®te des options, consultez la section __Guides__ dans la barre de navigation √† gauche.

### Ajouter une API tRPC

<RunGenerator generator="ts#trpc-api" requiredParameters={{ apiName: 'demo-api' }} />

Ceci cr√©era l'API dans le dossier `packages/demo-api`.

### Ajouter un site React

<RunGenerator generator="ts#cloudscape-website" requiredParameters={{ name: 'demo-website' }} />

Ceci g√©n√®re un nouveau site React dans `packages/demo-website`.

### Ajouter l'authentification Cognito

<RunGenerator generator="ts#cloudscape-website#auth" requiredParameters={{ project: '@my-project/demo-website', cognitoDomain: 'my-demo' }} />

Ceci configure l'infrastructure n√©cessaire et le code React pour ajouter l'authentification Cognito √† votre site.

### Connecter le frontend au backend

<RunGenerator generator="api-connection" requiredParameters={{ sourceProject: '@my-project/demo-website', targetProject: '@my-project/demo-api-backend' }} />

Ceci configure les fournisseurs n√©cessaires pour que votre site puisse appeler votre API tRPC.

### Ajouter l'infrastructure CDK

<RunGenerator generator="ts#infra" requiredParameters={{ name: 'infra' }} />

Ceci configure une application CDK que vous pouvez utiliser pour d√©ployer votre infrastructure sur AWS.

## √âtape 4 : D√©finir les ressources cloud et d√©ployer sur AWS

Ouvrez `packages/infra/src/stacks/application-stack.ts` et ajoutez le code suivant :

```typescript
import * as cdk from 'aws-cdk-lib';
import { DemoApi, DemoWebsite, UserIdentity } from ':my-project/common-constructs';
import { Construct } from 'constructs';

export class ApplicationStack extends cdk.Stack {
  constructor(scope: Construct, id: string, props?: cdk.StackProps) {
    super(scope, id, props);

    const identity = new UserIdentity(this, 'identity');
    const api = new DemoApi(this, 'api');
    api.grantInvokeAccess(identity.identityPool.authenticatedRole);

    new DemoWebsite(this, 'website');
  }
}
```
__Remarque__ : C'est tout le code CDK n√©cessaire pour d√©ployer notre application full-stack.

### Construire et d√©ployer l'infrastructure

Pour construire votre projet, ex√©cutez la commande :

<NxCommands commands={['run-many --target build --all']} />

:::tip
Si vous rencontrez des erreurs de linting, ex√©cutez cette commande pour les corriger automatiquement :

<NxCommands commands={['run-many --target lint --configuration=fix --all']} />
:::

## √âtape 5 : Ex√©cuter le frontend localement

<Steps>
1. R√©cup√©rer le fichier `runtime-config.json`

    <NxCommands commands={['run @demo/demo-website:load:runtime-config']} />

2. D√©marrer le serveur web local

    <NxCommands commands={['run @demo/demo-website:serve']} />
</Steps>

Vous pouvez pr√©visualiser votre site √† l'adresse `http://localhost:4200` dans un navigateur.

---

F√©licitations ! üéâ Vous avez d√©ploy√© avec succ√®s une application full-stack en utilisant `@aws/nx-plugin` !