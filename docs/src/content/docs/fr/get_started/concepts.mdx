---
title: "Concepts"
description: "Concepts clés"
---



import { Image } from 'astro:assets';
import { Aside } from '@astrojs/starlight/components';
import typeSafetyGif from '@assets/type-safety.gif';
import websiteGeneratorGif from '@assets/website-generator.gif';
import generatorsJpg from '@assets/generators.png';

Le `@aws/nx-plugin` est un plugin [Nx](https://nx.dev/) qui fournit une boîte à outils pour simplifier le développement et le déploiement d'applications full-stack sur AWS. Il propose aux développeurs des modèles préconfigurés pour le code applicatif et l'Infrastructure-as-Code (IaC), réduisant considérablement le temps consacré à la configuration initiale. Le plugin gère la complexité de l'intégration des services AWS tout en conservant une flexibilité de personnalisation.

Les utilisateurs peuvent sélectionner les composants souhaités parmi les [générateurs](#generators) disponibles, fournir des options de configuration et laisser le `@aws/nx-plugin` générer le code de démarrage requis. Vous pouvez utiliser des générateurs spécifiques de cette boîte à outils pour créer des API, des sites web, de l'infrastructure et des éléments complexes comme l'intégration d'un frontend avec un backend (y compris la mise à jour de fichiers existants via des transformations d'Abstract Syntax Tree (AST)) avec des clients type-safe.

<Image src={websiteGeneratorGif} alt="generator" width="800" height="600" />

## Basé sur Nx

[Nx](https://nx.dev) est un framework de build intelligent qui excelle dans la gestion de projets polyglottes complexes grâce à deux fonctionnalités clés : un système de build intelligent et des générateurs de code.

Le système de build utilise un cache avancé et une analyse de graphe de dépendances pour optimiser l'exécution des tâches. Il ne reconstruit que ce qui est nécessaire suite aux modifications du code, réduisant significativement les temps de build. Les tâches peuvent s'exécuter en parallèle, Nx déterminant automatiquement l'ordre d'exécution optimal selon les dépendances du projet. Cela rend les opérations comme les tests, le linting et le build très efficaces, surtout dans les bases de code volumineuses.

Les générateurs servent d'outils de scaffolding automatisés qui créent des structures de code cohérentes entre les projets. Ils peuvent produire aussi bien des composants individuels que des applications complètes, suivant des modèles et patrons prédéfinis. Les équipes peuvent personnaliser ces générateurs pour correspondre à leurs besoins spécifiques et standards de codage.

Ensemble, ces fonctionnalités rendent Nx particulièrement efficace pour gérer des monorepos et assurer des pratiques de développement cohérentes entre les équipes tout en maintenant une vélocité élevée.

## Générateurs

Tous les composants disponibles dans ce plugin sont implémentés comme des [Générateurs](https://nx.dev/features/generate-code) qui automatisent les tâches répétitives et permettent un scaffolding cohérent pour les projets nouveaux et existants.

Vous pouvez invoquer les générateurs via la [CLI Nx](https://nx.dev/features/generate-code#invoke-generators) ou le [plugin IDE Nx Console](https://nx.dev/getting-started/editor-setup).

<Image src={generatorsJpg} alt="generators" width="800" height="600" />

## Modifiable à volonté

Tout le code généré est votre code, ce qui signifie que vous pouvez librement le modifier selon vos besoins. Cela simplifie radicalement l'expérience développeur : si un élément du code généré ne vous convient pas, vous pouvez l'adapter librement.

## Dépendances minimales

Le `@aws/nx-plugin` s'efforce de minimiser le nombre de dépendances. Les prérequis globaux dépendent donc des générateurs que vous utilisez.

Exemples :

- Tout générateur basé sur Typescript nécessite uniquement [Node](https://nodejs.org/en/download).
- Pour les projets Python, [UV](https://docs.astral.sh/uv/) est le seul prérequis.

<Aside>
  Nous avons choisi UV comme gestionnaire de paquets Python pour ces raisons :
  - Outil unique remplaçant `pip`, `pip-tools`, `pipx`, `poetry`, `pyenv`, `twine`, `virtualenv`,
  - 10 à 100x plus rapide que `pip`,
  - Support natif des [workspaces/monorepos](https://docs.astral.sh/uv/concepts/projects/workspaces/).
</Aside>

## Politique de version unique

La configuration par défaut des monorepos utilise une [politique de version unique](https://nx.dev/concepts/decisions/dependency-management#single-version-policy) pour les projets Node et Python.

Cela signifie que tous les projets du monorepo utilisent par défaut les mêmes versions des dépendances, réduisant les problèmes d'incompatibilité entre versions.

Pour les projets Node :
- Un fichier lockfile unique à la racine avec un seul `node_modules` contient toutes les dépendances
- Ajoutez les nouvelles dépendances dans le `package.json` racine

Pour les projets Python :
- Un `.venv` unique à la racine contient toutes les dépendances installées
- Chaque projet Python possède son propre `pyproject.toml`, mais les versions des dépendances sont gérées par le workspace UV et écrites dans le fichier `uv.lock` racine

## Sécurité de type

Le `@aws/nx-plugin` utilise la sécurité de type pour simplifier l'expérience développeur via des complétions IDE, tout en éliminant les erreurs runtime qui surviendraient dans une implémentation non type-safe. Par défaut, tous les composants fournis sont type-safe.

<Image src={typeSafetyGif} alt="generators" width="800" height="600" />