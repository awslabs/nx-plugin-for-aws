---
title: "Jeu de Donjon IA"
description: "Un guide pas à pas pour construire un jeu d'aventure de donjon alimenté par l'IA en utilisant le @aws/nx-plugin."
---



import { Aside, Code, FileTree, Steps, Tabs, TabItem } from '@astrojs/starlight/components';
import Snippet from '@components/snippet.astro';
import { Image } from 'astro:assets';
import Drawer from '@components/drawer.astro';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import InstallCommand from '@components/install-command.astro';
import dungeonAdventureArchitecturePng from '@assets/dungeon-game-architecture.png'
import dungeonAdventureErPng from '@assets/dungeon-adventure-er.png'
import baselineWebsitePng from '@assets/baseline-website.png'
import baselineGamePng from '@assets/baseline-game.png'
import nxGraphPng from '@assets/nx-graph.png'
import gameSelectPng from '@assets/game-select.png'
import gameConversationPng from '@assets/game-conversation.png'

## Aperçu

Dans ce tutoriel, vous allez créer un jeu d'aventure donjon alimenté par l'IA. Ce tutoriel ne nécessite aucune connaissance préalable du `@aws/nx-plugin` ou des technologies associées. Les techniques que vous apprendrez ici sont fondamentales pour construire n'importe quelle application basée sur `@aws/nx-plugin`, et leur compréhension complète vous donnera une maîtrise approfondie du `@aws/nx-plugin` ainsi qu'une connaissance de base de [NX](https://nx.dev/).

<Aside>Ce tutoriel est conçu pour les personnes qui préfèrent apprendre en pratiquant et veulent rapidement créer quelque chose de concret. Si vous préférez apprendre chaque concept étape par étape, reportez-vous aux guides des composants individuels dans la navigation de gauche.</Aside>

Les utilisateurs qui termineront ce tutoriel apprendront comment :

- utiliser le `@aws/nx-plugin` pour créer de nouvelles applications,
- utiliser NX pour gérer/construire leur base de code,
- construire des APIs avec tRPC et FastAPI,
- utiliser TanStack Router pour créer de nouvelles pages,
- utiliser TanStack Query pour appeler des APIs backend,
- modifier du code généré pour l'adapter à des besoins spécifiques,
- créer et déployer une infrastructure CDK.

## Que allez-vous construire ?

Dans ce tutoriel, vous allez créer un jeu d'aventure donjon alimenté par l'IA avec `@aws/nx-plugin`.

Voici à quoi ressemblera le résultat final après avoir terminé le tutoriel.

<Image src={gameSelectPng} alt="game-select.png" width="500" height="400" />
<div style="margin-top: -100px; margin-left: 100px;">
<Image src={gameConversationPng} alt="game-conversation.png" width="500" height="400" />
</div>

### Composants de l'application

Nous allons construire le jeu d'aventure donjon avec l'architecture de composants suivante :

<Image class="white-bg" src={dungeonAdventureArchitecturePng} alt="dungeon-game-architecture.png" width="800" height="600" />

1. L'API [tRPC](https://trpc.io/) utilise [ElectroDB](https://electrodb.dev/)/[DynamoDB](https://aws.amazon.com/dynamodb/) pour gérer l'état du jeu
2. La fonction Lambda Python/[FastAPI](https://fastapi.tiangolo.com/) avec réponses en streaming pour la génération d'histoire (alimentée par [Amazon Bedrock](https://aws.amazon.com/bedrock/))
3. Un frontend React/Vite avec :
  - Amazon Cognito/Identity Pools pour les appels API sécurisés
  - [TanStack Router](https://tanstack.com/router/latest) prenant en charge le routage basé sur les fichiers avec typage fort
  - Des SDK générés pour appeler les APIs de jeu et d'histoire (utilisant [TanStack Query](https://tanstack.com/query/latest))

Une infrastructure [CDK](https://docs.aws.amazon.com/cdk/v2/guide/home.html) pour déployer les composants de l'application.

## Prérequis

Avant de commencer, installez ces dépendances globales :

<Snippet name="prerequisites" />
- Assurez-vous d'avoir activé l'accès (dans votre compte AWS) au modèle Anthropic Claude 3.5 Sonnet v2 dans Bedrock pour votre région cible. Pour les instructions, suivez les étapes décrites dans la section [Add or remove access to Amazon Bedrock foundation models](https://docs.aws.amazon.com/bedrock/latest/userguide/model-access-modify.html).