---
title: "ARN du Runtime Bedrock AgentCore"
---

import Link from '@components/link.astro';
import Infrastructure from '@components/infrastructure.astro';

Pour invoquer votre Agent déployé sur Bedrock AgentCore Runtime, vous pouvez envoyer une requête POST au point de terminaison du plan de données Bedrock AgentCore Runtime avec votre ARN d'exécution encodé en URL.

Vous pouvez obtenir l'ARN d'exécution depuis votre infrastructure comme suit :

<Infrastructure>
<Fragment slot="cdk">
```ts {9}
import { CfnOutput } from 'aws-cdk-lib';
import { MyProjectAgent } from ':my-scope/common-constructs';

export class ExampleStack extends Stack {
  constructor(scope: Construct, id: string) {
    const agent = new MyProjectAgent(this, 'MyProjectAgent');

    new CfnOutput(this, 'AgentArn', {
      value: agent.agentCoreRuntime.agentRuntimeArn,
    });
  }
}
```
</Fragment>
<Fragment slot="terraform">
```terraform {8}
# Agent
module "my_project_agent" {
  # Relative path to the generated module in the common/terraform project
  source = "../../common/terraform/src/app/agents/my-project-agent"
}

output "agent_arn" {
  value = module.my_project_agent.agent_core_runtime_arn
}
```
</Fragment>
</Infrastructure>

L'ARN aura le format suivant : `arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>`.

Vous pouvez ensuite encoder l'ARN en URL en remplaçant `:` par `%3A` et `/` par `%2F`.

:::tip
Ceci est simple dans une console de navigateur ou un REPL Node en utilisant la méthode intégrée `encodeURIComponent` :

```js
encodeURIComponent('arn:aws:bedrock-agentcore:<region>:<account>:runtime/<agent-runtime-id>')
```
:::

L'URL du plan de données Bedrock AgentCore Runtime pour invoquer l'agent est la suivante :

```
https://bedrock-agentcore.<region>.amazonaws.com/runtimes/<url-encoded-arn>/invocations
```

La manière exacte d'invoquer cette URL dépend de la méthode d'authentification utilisée.