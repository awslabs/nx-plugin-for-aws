---
title: "Plugin TypeScript Nx"
description: "Générez votre propre plugin Nx ! Créez des générateurs personnalisés automatiquement disponibles pour le codage AI via MCP"
---



import { FileTree } from '@astrojs/starlight/components';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import GeneratorParameters from '@components/generator-parameters.astro';
import Link from '@components/link.astro';
import Snippet from '@components/snippet.astro';
import InstallCommand from '@components/install-command.astro';

Générez un [plugin Nx](https://nx.dev/extending-nx/intro/getting-started) TypeScript complet avec un serveur [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) intégré. Ce générateur crée une base pour développer des générateurs personnalisés qui peuvent être utilisés de manière transparente par des assistants IA pour la génération automatisée de code et l'échafaudage de projets.

## Utilisation

### Générer un plugin Nx

Vous pouvez générer un plugin Nx TypeScript de deux manières :

<RunGenerator generator="ts#nx-plugin" />

### Options

<GeneratorParameters generator="ts#nx-plugin" />

## Résultat du générateur

Le générateur créera la structure de projet suivante :

<FileTree>
- your-plugin/
  - src/
    - index.ts Point d'entrée vide pour votre plugin
    - mcp-server/
      - index.ts Exporte votre serveur
      - server.ts Configuration principale du serveur MCP
      - stdio.ts Point d'entrée pour le serveur MCP avec transport STDIO
      - http.ts Point d'entrée pour le serveur MCP avec transport HTTP streamable
      - tools/
        - create-workspace-command.ts Outil d'aide à la création d'espace de travail
        - general-guidance.ts Outil de bonnes pratiques pour Nx et les plugins
        - list-generators.ts Outil de liste des générateurs disponibles
        - generator-guide.ts Outil d'information détaillée sur les générateurs
      - utils.ts Fonctions utilitaires pour le serveur MCP
  - generators.json Configuration des générateurs Nx (vide initialement)
  - package.json Configuration du package avec binaire du serveur MCP
  - tsconfig.json Configuration TypeScript (CommonJS pour compatibilité Nx)
  - project.json Configuration de projet Nx avec cibles de build et package
</FileTree>

## Utilisation de votre plugin Nx

### Ajout de générateurs

Une fois votre projet de plugin créé, ajoutez des générateurs avec <Link path="/guides/ts-nx-generator">`ts#nx-generator`</Link> :

<RunGenerator generator="ts#nx-generator" requiredParameters={{ pluginProject: 'your-plugin' }} />

Ceci ajoutera un nouveau générateur à votre plugin.

:::tip
Consultez le <Link path="/guides/ts-nx-generator">guide `ts#nx-generator`</Link> pour les détails d'implémentation.
:::

Veillez à rédiger un `README.md` détaillé pour votre générateur, car il est utilisé par l'outil `generator-guide` du serveur MCP.

### Cibles de projet

Le plugin généré inclut plusieurs cibles importantes :

#### Cible Build
Compile votre code TypeScript et prépare le plugin à l'utilisation :

<NxCommands commands={['build your-plugin']} />

#### Cible Package
Crée un package distribuable prêt pour la publication NPM :

<NxCommands commands={['package your-plugin']} />

Le package inclut tous les éléments nécessaires :
- Fichiers JavaScript compilés
- Fichiers de déclaration TypeScript
- Configurations des générateurs et exécuteurs
- Documentation et licences

## Intégration du serveur MCP

Le plugin configure un serveur MCP via <Link path="/guides/ts-mcp-server">`ts#mcp-server`</Link>.

### Outils

Le serveur MCP intégré fournit aux assistants IA les outils suivants :

- `general-guidance` : Meilleures pratiques pour Nx et votre plugin
- `create-workspace-command` : Création d'espaces de travail compatibles
- `list-generators` : Liste des générateurs disponibles
- `generator-guide` : Informations détaillées sur les générateurs

### Configuration avec assistants IA

<Snippet name="mcp/configuration" parentHeading="Configuring with AI Assistants" />

### Personnalisation du serveur MCP

Vous pouvez étendre le serveur MCP en modifiant `server.ts` pour ajouter des outils ou ressources spécifiques à votre domaine.

Pour plus de détails, consultez le <Link path="/guides/ts-mcp-server">guide `ts#mcp-server`</Link>.

## Publication de votre plugin

### Préparation à la publication

1. **Mettez à jour `package.json`** : Nom, version, description et dépôt
2. **Build du package** :
   <NxCommands commands={['package your-plugin']} />
3. **Test local** : Installez le plugin dans un autre espace de travail :
   ```bash
   npm install /chemin/vers/votre/workspace/dist/your-plugin/package
   ```

### Publication sur NPM

Une fois prêt :

```bash
cd dist/your-plugin/package
npm publish
```

### Utilisation du plugin publié

Après publication, les utilisateurs peuvent l'installer :

<InstallCommand pkg="your-plugin-name" />

Puis utiliser vos générateurs :

<RunGenerator namespace="your-plugin-name" generator="your-generator-name" />

#### Configuration des assistants IA

Configurez le serveur MCP de votre plugin publié ainsi :

```json {3-6}
{
  "mcpServers": {
    "aws-nx-mcp": {
      "command": "npx",
      "args": ["-y", "-p", "your-plugin-name", "your-plugin-name-mcp-server"]
    }
  }
}
```