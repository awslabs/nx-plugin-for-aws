---
title: "Plugin TypeScript Nx"
description: "Générez votre propre plugin Nx ! Créez des générateurs personnalisés automatiquement disponibles pour le codage AI via MCP"
---



import { FileTree } from '@astrojs/starlight/components';
import RunGenerator from '@components/run-generator.astro';
import NxCommands from '@components/nx-commands.astro';
import GeneratorParameters from '@components/generator-parameters.astro';
import Link from '@components/link.astro';
import Snippet from '@components/snippet.astro';
import InstallCommand from '@components/install-command.astro';

Générer un plugin Nx TypeScript complet avec un serveur [Model Context Protocol (MCP)](https://modelcontextprotocol.io/) intégré. Ce générateur crée une base pour développer des générateurs personnalisés qui peuvent être utilisés de manière transparente par des assistants IA pour la génération automatisée de code et l'échafaudage de projets.

## Utilisation

### Générer un plugin Nx

Vous pouvez générer un plugin Nx TypeScript de deux manières :

<RunGenerator generator="ts#nx-plugin" />

### Options

<GeneratorParameters generator="ts#nx-plugin" />

## Résultat du générateur

Le générateur créera la structure de projet suivante :

<FileTree>
- your-plugin/
  - src/
    - index.ts Point d'entrée vide pour votre plugin
    - mcp-server/
      - index.ts Exporte votre serveur
      - server.ts Configuration principale du serveur MCP
      - stdio.ts Point d'entrée pour le serveur MCP avec transport STDIO
      - http.ts Point d'entrée pour le serveur MCP avec transport HTTP streamable
      - tools/
        - create-workspace-command.ts Outil pour guider la création d'espace de travail
        - general-guidance.ts Outil pour les bonnes pratiques Nx et plugin
        - list-generators.ts Outil pour lister les générateurs disponibles
        - generator-guide.ts Outil pour les informations détaillées sur les générateurs
      - utils.ts Fonctions utilitaires pour le serveur MCP
  - generators.json Configuration des générateurs Nx (vide initialement)
  - package.json Configuration du package du plugin avec binaire MCP server
  - tsconfig.json Configuration TypeScript (CommonJS pour compatibilité Nx)
  - project.json Configuration de projet Nx avec cibles de build et package
</FileTree>

## Utilisation de votre plugin Nx

### Ajout de générateurs

Une fois votre projet de plugin créé, vous pouvez ajouter des générateurs avec <Link path="/guides/ts-nx-generator">`ts#nx-generator`</Link> :

<RunGenerator generator="ts#nx-generator" requiredParameters={{ pluginProject: 'your-plugin' }} />

Ceci ajoutera un nouveau générateur à votre plugin.

:::tip
Consultez le <Link path="/guides/ts-nx-generator">guide `ts#nx-generator`</Link> pour les détails d'implémentation des générateurs.
:::

Assurez-vous de rédiger un `README.md` détaillé pour votre générateur, car il est utilisé par l'outil `generator-guide` du serveur MCP.

### Cibles du projet

Le plugin généré inclut plusieurs cibles importantes :

#### Cible Build
Compile votre code TypeScript et prépare le plugin à l'utilisation :

<NxCommands commands={['build your-plugin']} />

#### Cible Package
Crée un package distribuable prêt pour la publication sur NPM :

<NxCommands commands={['package your-plugin']} />

Le package inclut toutes les ressources nécessaires :
- Fichiers JavaScript compilés
- Fichiers de déclaration TypeScript
- Fichiers de configuration des générateurs et exécuteurs
- Documentation et fichiers de licence

## Intégration du serveur MCP

Le plugin configure un serveur MCP avec le générateur <Link path="/guides/ts-mcp-server">`ts#mcp-server`</Link>.

### Outils

Le plugin inclut un serveur MCP complet fournissant aux assistants IA les outils suivants :

- `general-guidance` : Obtenir les bonnes pratiques pour utiliser Nx et votre plugin
- `create-workspace-command` : Apprendre à créer des espaces de travail compatibles avec votre plugin
- `list-generators` : Lister tous les générateurs disponibles dans votre plugin
- `generator-guide` : Obtenir des informations détaillées sur les générateurs (schémas et utilisation)

### Configuration avec les assistants IA

<Snippet name="mcp/configuration-ts" parentHeading="Configuring with AI Assistants" />

### Personnalisation du serveur MCP

Vous pouvez étendre le serveur MCP en modifiant `server.ts` pour ajouter des outils ou ressources spécifiques à votre domaine.

Pour plus de détails sur l'écriture de serveurs MCP, consultez le <Link path="/guides/ts-mcp-server">guide `ts#mcp-server`</Link>.

## Publication de votre plugin

### Préparation à la publication

1. **Mettre à jour les informations du package** : Modifiez le [`package.json`](https://docs.npmjs.com/cli/v10/configuring-npm/package-json) avec le nom, la version, la description et les informations de dépôt appropriées.

2. **Compiler le package** :
   <NxCommands commands={['package your-plugin']} />

3. **Tester localement** : Vous pouvez tester votre plugin localement en l'installant dans un autre espace de travail :
   ```bash
   npm install /path/to/your/workspace/dist/your-plugin/package
   ```

### Publication sur NPM

Une fois votre plugin prêt :

```bash
cd dist/your-plugin/package
npm publish
```

### Utilisation des plugins publiés

Après publication, les autres utilisateurs peuvent installer et utiliser votre plugin :

<InstallCommand pkg="your-plugin-name" />

Puis utilisez vos générateurs :

<RunGenerator namespace="your-plugin-name" generator="your-generator-name" />

#### Configuration des assistants IA avec votre plugin publié

Le serveur MCP de votre plugin publié peut être configuré ainsi :

```json {3-6}
{
  "mcpServers": {
    "aws-nx-mcp": {
      "command": "npx",
      "args": ["-y", "-p", "your-plugin-name", "your-plugin-name-mcp-server"]
    }
  }
}
```